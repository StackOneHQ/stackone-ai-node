{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"StackOne AI SDK # Installation # # Using npm npm install @stackone/ai # Using yarn yarn add @stackone/ai # Using bun bun add @stackone/ai Authentication # Set the STACKONE_API_KEY environment variable: export STACKONE_API_KEY = <your-api-key> or load from a .env file: // Load environment variables from .env file import * as dotenv from 'dotenv' ; dotenv . config (); Account IDs # StackOne uses account IDs to identify different integrations. See the example in the README for more details. This example will hardcode the account ID: const accountId = '45072196112816593343' ; Quickstart # import assert from 'node:assert' ; import { StackOneToolSet } from '../src' ; const quickstart = async () : Promise < void > => { const toolset = new StackOneToolSet (); // Get all HRIS-related tools using the StackOneTool method (adds accountId to the request) const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); // Verify we have tools assert ( tools . length > 0 , 'Expected to find HRIS tools' ); // Use a specific tool const employeeTool = tools . getTool ( 'hris_list_employees' ); assert ( employeeTool !== undefined , 'Expected to find hris_list_employees tool' ); // Execute the tool and verify the response const employees = await employeeTool . execute (); assert ( Array . isArray ( employees ), 'Expected employees to be an array' ); assert ( employees . length > 0 , 'Expected to find at least one employee' ); }; // Run the example quickstart (); Next Steps # Check out some more examples: OpenAI Integration AI SDK Integration Error Handling File Uploads Custom Base URL Account ID Usage","title":"Home"},{"location":"#stackone-ai-sdk","text":"","title":"StackOne AI SDK"},{"location":"#installation","text":"# Using npm npm install @stackone/ai # Using yarn yarn add @stackone/ai # Using bun bun add @stackone/ai","title":"Installation"},{"location":"#authentication","text":"Set the STACKONE_API_KEY environment variable: export STACKONE_API_KEY = <your-api-key> or load from a .env file: // Load environment variables from .env file import * as dotenv from 'dotenv' ; dotenv . config ();","title":"Authentication"},{"location":"#account-ids","text":"StackOne uses account IDs to identify different integrations. See the example in the README for more details. This example will hardcode the account ID: const accountId = '45072196112816593343' ;","title":"Account IDs"},{"location":"#quickstart","text":"import assert from 'node:assert' ; import { StackOneToolSet } from '../src' ; const quickstart = async () : Promise < void > => { const toolset = new StackOneToolSet (); // Get all HRIS-related tools using the StackOneTool method (adds accountId to the request) const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); // Verify we have tools assert ( tools . length > 0 , 'Expected to find HRIS tools' ); // Use a specific tool const employeeTool = tools . getTool ( 'hris_list_employees' ); assert ( employeeTool !== undefined , 'Expected to find hris_list_employees tool' ); // Execute the tool and verify the response const employees = await employeeTool . execute (); assert ( Array . isArray ( employees ), 'Expected employees to be an array' ); assert ( employees . length > 0 , 'Expected to find at least one employee' ); }; // Run the example quickstart ();","title":"Quickstart"},{"location":"#next-steps","text":"Check out some more examples: OpenAI Integration AI SDK Integration Error Handling File Uploads Custom Base URL Account ID Usage","title":"Next Steps"},{"location":"account-id-usage/","text":"Account Id Usage # Example demonstrating different ways to set the account ID when using StackOne tools. This example shows: 1. Setting account ID when initializing the toolset 2. Setting account ID when getting tools 3. Using setAccountId method directly on a tool Usage: bun run examples/account-id-usage.ts import assert from 'node:assert' ; import { StackOneToolSet } from '../src' ; const accountIdUsage = async () : Promise < void > => { /* * Set account ID on toolset initialization */ const toolset = new StackOneToolSet ({ accountId : 'initial-account-id' }); const tools = toolset . getTools ( 'hris_*' ); const employeeTool = tools . getStackOneTool ( 'hris_list_employees' ); assert ( employeeTool . getAccountId () === 'initial-account-id' , 'Account ID should match what was set' ); /* * Setting account ID when getting tools (overrides toolset account ID) */ const toolsWithOverride = toolset . getStackOneTools ( 'hris_*' , 'override-account-id' ); const employeeToolWithOverride = toolsWithOverride . getStackOneTool ( 'hris_list_employees' ); assert ( employeeToolWithOverride ? . getAccountId () === 'override-account-id' , 'Account ID should match what was set' ); /* * Set the account ID directly on the tool */ employeeTool . setAccountId ( 'direct-account-id' ); assert ( employeeTool . getAccountId () === 'direct-account-id' , 'Account ID should match what was set' ); }; accountIdUsage ();","title":"Account IDs"},{"location":"account-id-usage/#account-id-usage","text":"Example demonstrating different ways to set the account ID when using StackOne tools. This example shows: 1. Setting account ID when initializing the toolset 2. Setting account ID when getting tools 3. Using setAccountId method directly on a tool Usage: bun run examples/account-id-usage.ts import assert from 'node:assert' ; import { StackOneToolSet } from '../src' ; const accountIdUsage = async () : Promise < void > => { /* * Set account ID on toolset initialization */ const toolset = new StackOneToolSet ({ accountId : 'initial-account-id' }); const tools = toolset . getTools ( 'hris_*' ); const employeeTool = tools . getStackOneTool ( 'hris_list_employees' ); assert ( employeeTool . getAccountId () === 'initial-account-id' , 'Account ID should match what was set' ); /* * Setting account ID when getting tools (overrides toolset account ID) */ const toolsWithOverride = toolset . getStackOneTools ( 'hris_*' , 'override-account-id' ); const employeeToolWithOverride = toolsWithOverride . getStackOneTool ( 'hris_list_employees' ); assert ( employeeToolWithOverride ? . getAccountId () === 'override-account-id' , 'Account ID should match what was set' ); /* * Set the account ID directly on the tool */ employeeTool . setAccountId ( 'direct-account-id' ); assert ( employeeTool . getAccountId () === 'direct-account-id' , 'Account ID should match what was set' ); }; accountIdUsage ();","title":"Account Id Usage"},{"location":"ai-sdk-integration/","text":"Ai Sdk Integration # This example shows how to use StackOne tools with the AI SDK. import assert from 'node:assert' ; import { openai } from '@ai-sdk/openai' ; import { generateText } from 'ai' ; import { StackOneToolSet } from '../src' ; const aiSdkIntegration = async () : Promise < void > => { // Initialize StackOne const toolset = new StackOneToolSet (); const accountId = '45072196112816593343' ; // Get HRIS tools const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); // Convert to AI SDK tools const aiSdkTools = tools . toAISDK (); // Use max steps to automatically call the tool if it's needed const { text } = await generateText ({ model : openai ( 'gpt-4o-mini' ), tools : aiSdkTools , prompt : 'Get all details about employee with id: c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA' , maxSteps : 3 , }); assert ( text . includes ( 'Isac Newton' ), 'Expected employee name to be included in the response' ); }; aiSdkIntegration ();","title":"AI SDK"},{"location":"ai-sdk-integration/#ai-sdk-integration","text":"This example shows how to use StackOne tools with the AI SDK. import assert from 'node:assert' ; import { openai } from '@ai-sdk/openai' ; import { generateText } from 'ai' ; import { StackOneToolSet } from '../src' ; const aiSdkIntegration = async () : Promise < void > => { // Initialize StackOne const toolset = new StackOneToolSet (); const accountId = '45072196112816593343' ; // Get HRIS tools const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); // Convert to AI SDK tools const aiSdkTools = tools . toAISDK (); // Use max steps to automatically call the tool if it's needed const { text } = await generateText ({ model : openai ( 'gpt-4o-mini' ), tools : aiSdkTools , prompt : 'Get all details about employee with id: c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA' , maxSteps : 3 , }); assert ( text . includes ( 'Isac Newton' ), 'Expected employee name to be included in the response' ); }; aiSdkIntegration ();","title":"Ai Sdk Integration"},{"location":"custom-base-url/","text":"Custom Base Url # Example demonstrating how to use a custom base URL with StackOne tools. This is useful for: 1. Testing against development APIs 2. Working with self-hosted StackOne instances Usage: bun run examples/custom-base-url.ts import assert from 'node:assert' ; import { StackOneToolSet } from '../src' ; const customBaseUrl = async () : Promise < void > => { Default base URL const defaultToolset = new StackOneToolSet (); const hrisTools = defaultToolset . getTools ( 'hris_*' ); assert ( hrisTools . length > 0 , 'Should have at least one HRIS tool' ); const defaultTool = hrisTools . getTool ( 'hris_get_employee' ); if ( ! defaultTool ) { throw new Error ( 'Tool not found' ); } Custom base URL const devToolset = new StackOneToolSet ({ baseUrl : 'https://api.example-dev.com' , }); const devHrisTools = devToolset . getTools ( 'hris_*' ); assert ( devHrisTools . length > 0 , 'Should have at least one HRIS tool' ); const devTool = devHrisTools . getTool ( 'hris_get_employee' ); if ( ! devTool ) { throw new Error ( 'Tool not found' ); } Note this uses the same tools but substitutes the base URL if ( defaultTool && devTool ) { assert ( defaultTool . name === devTool . name , 'Tool names should be the same' ); assert ( defaultTool . _executeConfig . url . includes ( 'https://api.stackone.com' ), 'Default tool should use the default base URL' ); assert ( devTool . _executeConfig . url . includes ( 'https://api.example-dev.com' ), 'Custom tool should use the custom base URL' ); } }; customBaseUrl ();","title":"Custom Base URL"},{"location":"custom-base-url/#custom-base-url","text":"Example demonstrating how to use a custom base URL with StackOne tools. This is useful for: 1. Testing against development APIs 2. Working with self-hosted StackOne instances Usage: bun run examples/custom-base-url.ts import assert from 'node:assert' ; import { StackOneToolSet } from '../src' ; const customBaseUrl = async () : Promise < void > => { Default base URL const defaultToolset = new StackOneToolSet (); const hrisTools = defaultToolset . getTools ( 'hris_*' ); assert ( hrisTools . length > 0 , 'Should have at least one HRIS tool' ); const defaultTool = hrisTools . getTool ( 'hris_get_employee' ); if ( ! defaultTool ) { throw new Error ( 'Tool not found' ); } Custom base URL const devToolset = new StackOneToolSet ({ baseUrl : 'https://api.example-dev.com' , }); const devHrisTools = devToolset . getTools ( 'hris_*' ); assert ( devHrisTools . length > 0 , 'Should have at least one HRIS tool' ); const devTool = devHrisTools . getTool ( 'hris_get_employee' ); if ( ! devTool ) { throw new Error ( 'Tool not found' ); } Note this uses the same tools but substitutes the base URL if ( defaultTool && devTool ) { assert ( defaultTool . name === devTool . name , 'Tool names should be the same' ); assert ( defaultTool . _executeConfig . url . includes ( 'https://api.stackone.com' ), 'Default tool should use the default base URL' ); assert ( devTool . _executeConfig . url . includes ( 'https://api.example-dev.com' ), 'Custom tool should use the custom base URL' ); } }; customBaseUrl ();","title":"Custom Base Url"},{"location":"error-handling/","text":"Error Handling # Error Handling # This example shows how to handle errors when using the StackOne SDK. import assert from 'node:assert' ; import { StackOneAPIError , StackOneError , StackOneToolSet , ToolSetConfigError } from '../src' ; const errorHandling = async () : Promise < void > => { // Example 1: Handle initialization errors const testInitializationErrors = async () : Promise < void > => { // Temporarily save the API key const originalKey = process . env . STACKONE_API_KEY ; // Delete the API key to force an error process . env . STACKONE_API_KEY = undefined ; try { // This will throw a ToolsetConfigError const _toolset = new StackOneToolSet (); assert ( false , 'Expected ToolSetConfigError was not thrown' ); } catch ( error ) { assert ( error instanceof ToolSetConfigError , 'Expected error to be ToolSetConfigError' ); } finally { // Restore the API key process . env . STACKONE_API_KEY = originalKey ; } }; // Example 2: Handle API errors const testApiErrors = async () : Promise < void > => { const toolset = new StackOneToolSet (); const accountId = 'invalid-account-id' ; // Invalid account ID to force an error try { const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); const employeeTool = tools . getTool ( 'hris_list_employees' ); if ( employeeTool ) { // This will throw a StackOneAPIError due to the invalid account ID await employeeTool . execute (); assert ( false , 'Expected StackOneAPIError was not thrown' ); } } catch ( error ) { assert ( error instanceof StackOneAPIError || error instanceof StackOneError , 'Expected error to be StackOneAPIError or StackOneError' ); if ( error instanceof StackOneAPIError ) { assert ( error . statusCode !== undefined , 'Expected statusCode to be defined' ); assert ( error . responseBody !== undefined , 'Expected responseBody to be defined' ); } } }; // Example 3: Handle invalid tool name const testInvalidToolName = async () : Promise < void > => { const toolset = new StackOneToolSet (); const tools = toolset . getTools ( 'hris_*' ); const nonExistentTool = tools . getTool ( 'non_existent_tool' ); assert ( nonExistentTool === undefined , 'Expected non-existent tool to be undefined' ); }; // Example 4: Handle invalid arguments const testInvalidArguments = async () : Promise < void > => { const toolset = new StackOneToolSet (); const tools = toolset . getTools ( 'hris_*' ); const employeeTool = tools . getTool ( 'hris_get_employee' ); if ( employeeTool ) { try { // This will throw an error due to missing required arguments await employeeTool . execute (); assert ( false , 'Expected error was not thrown for missing arguments' ); } catch ( error ) { assert ( error instanceof StackOneAPIError || error instanceof StackOneError || error instanceof Error , 'Expected error to be a known error type' ); } } }; // Run all tests await testInitializationErrors (); await testApiErrors (); await testInvalidToolName (); await testInvalidArguments (); }; // Run the example errorHandling ();","title":"Error Handling"},{"location":"error-handling/#error-handling","text":"","title":"Error Handling"},{"location":"error-handling/#error-handling_1","text":"This example shows how to handle errors when using the StackOne SDK. import assert from 'node:assert' ; import { StackOneAPIError , StackOneError , StackOneToolSet , ToolSetConfigError } from '../src' ; const errorHandling = async () : Promise < void > => { // Example 1: Handle initialization errors const testInitializationErrors = async () : Promise < void > => { // Temporarily save the API key const originalKey = process . env . STACKONE_API_KEY ; // Delete the API key to force an error process . env . STACKONE_API_KEY = undefined ; try { // This will throw a ToolsetConfigError const _toolset = new StackOneToolSet (); assert ( false , 'Expected ToolSetConfigError was not thrown' ); } catch ( error ) { assert ( error instanceof ToolSetConfigError , 'Expected error to be ToolSetConfigError' ); } finally { // Restore the API key process . env . STACKONE_API_KEY = originalKey ; } }; // Example 2: Handle API errors const testApiErrors = async () : Promise < void > => { const toolset = new StackOneToolSet (); const accountId = 'invalid-account-id' ; // Invalid account ID to force an error try { const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); const employeeTool = tools . getTool ( 'hris_list_employees' ); if ( employeeTool ) { // This will throw a StackOneAPIError due to the invalid account ID await employeeTool . execute (); assert ( false , 'Expected StackOneAPIError was not thrown' ); } } catch ( error ) { assert ( error instanceof StackOneAPIError || error instanceof StackOneError , 'Expected error to be StackOneAPIError or StackOneError' ); if ( error instanceof StackOneAPIError ) { assert ( error . statusCode !== undefined , 'Expected statusCode to be defined' ); assert ( error . responseBody !== undefined , 'Expected responseBody to be defined' ); } } }; // Example 3: Handle invalid tool name const testInvalidToolName = async () : Promise < void > => { const toolset = new StackOneToolSet (); const tools = toolset . getTools ( 'hris_*' ); const nonExistentTool = tools . getTool ( 'non_existent_tool' ); assert ( nonExistentTool === undefined , 'Expected non-existent tool to be undefined' ); }; // Example 4: Handle invalid arguments const testInvalidArguments = async () : Promise < void > => { const toolset = new StackOneToolSet (); const tools = toolset . getTools ( 'hris_*' ); const employeeTool = tools . getTool ( 'hris_get_employee' ); if ( employeeTool ) { try { // This will throw an error due to missing required arguments await employeeTool . execute (); assert ( false , 'Expected error was not thrown for missing arguments' ); } catch ( error ) { assert ( error instanceof StackOneAPIError || error instanceof StackOneError || error instanceof Error , 'Expected error to be a known error type' ); } } }; // Run all tests await testInitializationErrors (); await testApiErrors (); await testInvalidToolName (); await testInvalidArguments (); }; // Run the example errorHandling ();","title":"Error Handling"},{"location":"file-uploads/","text":"File Uploads # Example showing how to upload files using the StackOne SDK. This example demonstrates how to upload files using the simplified file_path parameter, which is the only parameter needed for file uploads. The SDK automatically derives the necessary file parameters (content, name, file_format) from the file_path. import assert from 'node:assert' ; import * as fs from 'node:fs' ; import * as path from 'node:path' ; import { StackOneToolSet } from '../src' ; const accountId = '45072196112816593343' ; const fileUploads = async () : Promise < void > => { // Create a sample file for testing const sampleFilePath = path . join ( __dirname , 'sample-file.txt' ); fs . writeFileSync ( sampleFilePath , 'This is a sample file for testing file uploads.' ); try { // Initialize the StackOne toolset const toolset = new StackOneToolSet (); // Get tools for documents const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); // Get the upload file tool const uploadTool = tools . getTool ( 'hris_upload_employee_document' ); // Check if upload tool exists assert ( uploadTool !== undefined , 'Upload document tool not found' ); /* * Upload a file using the file_path parameter * The SDK will automatically derive content, name, and file_format from the file_path * Read more about transformed parameters in the [Derived Parameters](parameter-derivation.md) */ const result = await uploadTool . execute ({ file_path : sampleFilePath , id : 'c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA' , category : { value : 'shared' }, }); // Verify the result assert ( result !== undefined , 'Expected result to be defined' ); assert ( typeof result === 'object' , 'Expected result to be an object' ); } finally { // Clean up the sample file if ( fs . existsSync ( sampleFilePath )) { fs . unlinkSync ( sampleFilePath ); } } }; fileUploads ();","title":"File Uploads"},{"location":"file-uploads/#file-uploads","text":"Example showing how to upload files using the StackOne SDK. This example demonstrates how to upload files using the simplified file_path parameter, which is the only parameter needed for file uploads. The SDK automatically derives the necessary file parameters (content, name, file_format) from the file_path. import assert from 'node:assert' ; import * as fs from 'node:fs' ; import * as path from 'node:path' ; import { StackOneToolSet } from '../src' ; const accountId = '45072196112816593343' ; const fileUploads = async () : Promise < void > => { // Create a sample file for testing const sampleFilePath = path . join ( __dirname , 'sample-file.txt' ); fs . writeFileSync ( sampleFilePath , 'This is a sample file for testing file uploads.' ); try { // Initialize the StackOne toolset const toolset = new StackOneToolSet (); // Get tools for documents const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); // Get the upload file tool const uploadTool = tools . getTool ( 'hris_upload_employee_document' ); // Check if upload tool exists assert ( uploadTool !== undefined , 'Upload document tool not found' ); /* * Upload a file using the file_path parameter * The SDK will automatically derive content, name, and file_format from the file_path * Read more about transformed parameters in the [Derived Parameters](parameter-derivation.md) */ const result = await uploadTool . execute ({ file_path : sampleFilePath , id : 'c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA' , category : { value : 'shared' }, }); // Verify the result assert ( result !== undefined , 'Expected result to be defined' ); assert ( typeof result === 'object' , 'Expected result to be an object' ); } finally { // Clean up the sample file if ( fs . existsSync ( sampleFilePath )) { fs . unlinkSync ( sampleFilePath ); } } }; fileUploads ();","title":"File Uploads"},{"location":"openai-integration/","text":"Openai Integration # This example shows how to use StackOne tools with OpenAI. import assert from 'node:assert' ; import OpenAI from 'openai' ; import { StackOneToolSet } from '../src' ; const openaiIntegration = async () : Promise < void > => { // Initialize StackOne const toolset = new StackOneToolSet (); const accountId = '45072196112816593343' ; // Get the correct tool const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); const openAITools = tools . toOpenAI (); // Initialize OpenAI client const openai = new OpenAI (); // Create a chat completion with tool calls const response = await openai . chat . completions . create ({ model : 'gpt-4o-mini' , messages : [ { role : 'system' , content : 'You are a helpful assistant that can access HRIS information.' , }, { role : 'user' , content : 'What is the employee with id: c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA phone number?' , }, ], tools : openAITools , }); // Verify the response contains tool calls assert ( response . choices . length > 0 , 'Expected at least one choice in the response' ); const choice = response . choices [ 0 ]; assert ( choice . message . tool_calls !== undefined , 'Expected tool_calls to be defined' ); assert ( choice . message . tool_calls . length > 0 , 'Expected at least one tool call' ); const toolCall = choice . message . tool_calls [ 0 ]; assert ( toolCall . function . name === 'hris_get_employee' , 'Expected tool call to be hris_get_employee' ); // Parse the arguments to verify they contain the expected fields const args = JSON . parse ( toolCall . function . arguments ); assert ( args . id === 'c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA' , 'Expected id to match the query' ); assert ( args . fields !== undefined , 'Expected fields to be defined' ); }; // Run the example openaiIntegration ();","title":"OpenAI"},{"location":"openai-integration/#openai-integration","text":"This example shows how to use StackOne tools with OpenAI. import assert from 'node:assert' ; import OpenAI from 'openai' ; import { StackOneToolSet } from '../src' ; const openaiIntegration = async () : Promise < void > => { // Initialize StackOne const toolset = new StackOneToolSet (); const accountId = '45072196112816593343' ; // Get the correct tool const tools = toolset . getStackOneTools ( 'hris_*' , accountId ); const openAITools = tools . toOpenAI (); // Initialize OpenAI client const openai = new OpenAI (); // Create a chat completion with tool calls const response = await openai . chat . completions . create ({ model : 'gpt-4o-mini' , messages : [ { role : 'system' , content : 'You are a helpful assistant that can access HRIS information.' , }, { role : 'user' , content : 'What is the employee with id: c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA phone number?' , }, ], tools : openAITools , }); // Verify the response contains tool calls assert ( response . choices . length > 0 , 'Expected at least one choice in the response' ); const choice = response . choices [ 0 ]; assert ( choice . message . tool_calls !== undefined , 'Expected tool_calls to be defined' ); assert ( choice . message . tool_calls . length > 0 , 'Expected at least one tool call' ); const toolCall = choice . message . tool_calls [ 0 ]; assert ( toolCall . function . name === 'hris_get_employee' , 'Expected tool call to be hris_get_employee' ); // Parse the arguments to verify they contain the expected fields const args = JSON . parse ( toolCall . function . arguments ); assert ( args . id === 'c28xIQaWQ6MzM5MzczMDA2NzMzMzkwNzIwNA' , 'Expected id to match the query' ); assert ( args . fields !== undefined , 'Expected fields to be defined' ); }; // Run the example openaiIntegration ();","title":"Openai Integration"},{"location":"openapi-toolset/","text":"Openapi Toolset # Basic OpenAPI Example This example demonstrates how to: 1. Load OpenAPI specifications from a file 2. Load OpenAPI specifications from a URL 3. Get and execute tools from the specifications import assert from 'node:assert' ; import { OpenAPIToolSet } from '../src/toolsets/openapi' ; import { joinPaths } from '../src/utils/file' ; Type for dry run result type DryRunResult = { url : string ; method : string ; headers? : Record < string , string > ; body? : string ; }; Example of loading OpenAPI specifications from a file async function fromFileExample () : Promise < void > { // Create an OpenAPIToolSet from a local file const toolset = new OpenAPIToolSet ({ filePath : joinPaths ( __dirname , 'specs' , 'petstore.json' ), }); // Get all tools const tools = toolset . getTools (); assert ( tools . length > 0 , 'Expected to find tools in the specification' ); // Get a specific tool const getPetTool = tools . getTool ( 'getPetById' ); assert ( getPetTool !== undefined , 'Expected to find getPetById tool' ); // Execute the tool with dry run to see what would be sent const result = ( await getPetTool . execute ({ petId : 123 }, { dryRun : true })) as DryRunResult ; assert ( result !== undefined , 'Expected to get a result from dry run' ); assert ( result . url . includes ( '/pet/123' ), 'Expected URL to contain pet ID' ); assert ( result . method === 'GET' , 'Expected GET method' ); } Example of loading OpenAPI specifications from a URL async function fromUrlExample () : Promise < void > { try { // Create an OpenAPIToolSet from a URL const toolset = await OpenAPIToolSet . fromUrl ({ url : 'https://petstore3.swagger.io/api/v3/openapi.json' , }); // Get tools matching a pattern const petTools = toolset . getTools ( 'pet*' ); assert ( petTools . length > 0 , 'Expected to find pet-related tools' ); // Get a specific tool const updatePetTool = petTools . getTool ( 'updatePet' ); assert ( updatePetTool !== undefined , 'Expected to find updatePet tool' ); // Execute the tool with dry run to see what would be sent const result = ( await updatePetTool . execute ( { id : 123 , name : 'Fluffy' , status : 'available' , category : { id : 1 , name : 'Dogs' }, tags : [{ id : 1 , name : 'friendly' }], photoUrls : [ 'https://example.com/dog.jpg' ], }, { dryRun : true } )) as DryRunResult ; assert ( result !== undefined , 'Expected to get a result from dry run' ); assert ( result . method === 'PUT' , 'Expected PUT method' ); assert ( result . url . includes ( '/pet' ), 'Expected URL to contain pet endpoint' ); assert ( result . body && typeof result . body === 'string' , 'Expected body to be a string' ); const bodyData = JSON . parse ( result . body ); assert ( bodyData . name === 'Fluffy' , 'Expected body to contain pet data' ); } catch ( error ) { throw new Error ( `Failed to load from URL: ${ error instanceof Error ? error.message : String ( error ) } ` ); } } Run the examples async function main () : Promise < void > { try { // Run the file example await fromFileExample (); // Run the URL example await fromUrlExample (); } catch ( error ) { console . error ( error ); process . exit ( 1 ); } } main ();","title":"Getting Started"},{"location":"openapi-toolset/#openapi-toolset","text":"Basic OpenAPI Example This example demonstrates how to: 1. Load OpenAPI specifications from a file 2. Load OpenAPI specifications from a URL 3. Get and execute tools from the specifications import assert from 'node:assert' ; import { OpenAPIToolSet } from '../src/toolsets/openapi' ; import { joinPaths } from '../src/utils/file' ; Type for dry run result type DryRunResult = { url : string ; method : string ; headers? : Record < string , string > ; body? : string ; }; Example of loading OpenAPI specifications from a file async function fromFileExample () : Promise < void > { // Create an OpenAPIToolSet from a local file const toolset = new OpenAPIToolSet ({ filePath : joinPaths ( __dirname , 'specs' , 'petstore.json' ), }); // Get all tools const tools = toolset . getTools (); assert ( tools . length > 0 , 'Expected to find tools in the specification' ); // Get a specific tool const getPetTool = tools . getTool ( 'getPetById' ); assert ( getPetTool !== undefined , 'Expected to find getPetById tool' ); // Execute the tool with dry run to see what would be sent const result = ( await getPetTool . execute ({ petId : 123 }, { dryRun : true })) as DryRunResult ; assert ( result !== undefined , 'Expected to get a result from dry run' ); assert ( result . url . includes ( '/pet/123' ), 'Expected URL to contain pet ID' ); assert ( result . method === 'GET' , 'Expected GET method' ); } Example of loading OpenAPI specifications from a URL async function fromUrlExample () : Promise < void > { try { // Create an OpenAPIToolSet from a URL const toolset = await OpenAPIToolSet . fromUrl ({ url : 'https://petstore3.swagger.io/api/v3/openapi.json' , }); // Get tools matching a pattern const petTools = toolset . getTools ( 'pet*' ); assert ( petTools . length > 0 , 'Expected to find pet-related tools' ); // Get a specific tool const updatePetTool = petTools . getTool ( 'updatePet' ); assert ( updatePetTool !== undefined , 'Expected to find updatePet tool' ); // Execute the tool with dry run to see what would be sent const result = ( await updatePetTool . execute ( { id : 123 , name : 'Fluffy' , status : 'available' , category : { id : 1 , name : 'Dogs' }, tags : [{ id : 1 , name : 'friendly' }], photoUrls : [ 'https://example.com/dog.jpg' ], }, { dryRun : true } )) as DryRunResult ; assert ( result !== undefined , 'Expected to get a result from dry run' ); assert ( result . method === 'PUT' , 'Expected PUT method' ); assert ( result . url . includes ( '/pet' ), 'Expected URL to contain pet endpoint' ); assert ( result . body && typeof result . body === 'string' , 'Expected body to be a string' ); const bodyData = JSON . parse ( result . body ); assert ( bodyData . name === 'Fluffy' , 'Expected body to contain pet data' ); } catch ( error ) { throw new Error ( `Failed to load from URL: ${ error instanceof Error ? error.message : String ( error ) } ` ); } } Run the examples async function main () : Promise < void > { try { // Run the file example await fromFileExample (); // Run the URL example await fromUrlExample (); } catch ( error ) { console . error ( error ); process . exit ( 1 ); } } main ();","title":"Openapi Toolset"},{"location":"openapi-transformations/","text":"Openapi Transformations # OpenAPI with Parameter Transformations Example This example demonstrates how to: 1. Create custom parameter transformers 2. Use them with OpenAPI tools to derive additional parameters 3. Execute tools with minimal input, letting the transformers handle the rest import assert from 'node:assert' ; import fs from 'node:fs' ; import path from 'node:path' ; import { OpenAPIToolSet } from '../src/toolsets/openapi' ; import type { ParameterTransformer } from '../src/types' ; Create a mock OpenAPI specification for testing const createMockOpenAPISpec = () : string => { // Create a simple OpenAPI spec with two operations const spec = { openapi : '3.0.0' , info : { title : 'Parameter Transformation API' , version : '1.0.0' , }, paths : { '/upload' : { post : { operationId : 'upload_file' , description : 'Upload a file' , requestBody : { content : { 'multipart/form-data' : { schema : { type : 'object' , properties : { file_path : { type : 'string' , description : 'Path to the file to upload' , }, file_content : { type : 'string' , description : 'Base64-encoded file content' , }, file_name : { type : 'string' , description : 'Name of the file' , }, file_format : { type : 'string' , description : 'Format of the file' , }, }, required : [ 'file_path' ], }, }, }, }, responses : { '200' : { description : 'File uploaded successfully' , }, }, }, }, '/users/{user_id}' : { put : { operationId : 'update_user' , description : 'Update user details' , parameters : [ { name : 'user_id' , in : 'path' , required : true , schema : { type : 'string' , }, }, ], requestBody : { content : { 'application/json' : { schema : { type : 'object' , properties : { user_name : { type : 'string' , description : 'User name' , }, user_email : { type : 'string' , description : 'User email' , }, user_role : { type : 'string' , description : 'User role' , }, }, }, }, }, }, responses : { '200' : { description : 'User updated successfully' , }, }, }, }, }, }; // Write the spec to a temporary file const tempFile = path . join ( process . env . TMPDIR || '/tmp' , `parameter-transformation-spec- ${ Date . now () } .json` ); fs . writeFileSync ( tempFile , JSON . stringify ( spec , null , 2 )); return tempFile ; }; Create a file transformer This transformer extracts file_content, file_name, and file_format from file_path const createFileTransformer = () : ParameterTransformer => { return { transforms : { // Extract file content as base64 file_content : ( filePath : unknown ) : string => { if ( typeof filePath !== 'string' ) { throw new Error ( 'file_path must be a string' ); } if ( ! fs . existsSync ( filePath )) { throw new Error ( `File not found: ${ filePath } ` ); } return fs . readFileSync ( filePath ). toString ( 'base64' ); }, // Extract file name file_name : ( filePath : unknown ) : string => { if ( typeof filePath !== 'string' ) { throw new Error ( 'file_path must be a string' ); } return path . basename ( filePath ); }, // Extract file format (extension) file_format : ( filePath : unknown ) : string => { if ( typeof filePath !== 'string' ) { throw new Error ( 'file_path must be a string' ); } const extension = path . extname ( filePath ). slice ( 1 ); return extension || '' ; }, }, }; }; Create a user transformer This transformer extracts user_name, user_email, and user_role from user_id const createUserTransformer = () : ParameterTransformer => { // Mock user database const userDb : Record < string , { name : string ; email : string ; role : string } > = { user123 : { name : 'John Doe' , email : 'john.doe@example.com' , role : 'admin' }, user456 : { name : 'Jane Smith' , email : 'jane.smith@example.com' , role : 'user' }, }; return { transforms : { // Extract user name user_name : ( userId : unknown ) : string => { if ( typeof userId !== 'string' ) { throw new Error ( 'user_id must be a string' ); } if ( ! ( userId in userDb )) { throw new Error ( `User not found: ${ userId } ` ); } return userDb [ userId ]. name ; }, // Extract user email user_email : ( userId : unknown ) : string => { if ( typeof userId !== 'string' ) { throw new Error ( 'user_id must be a string' ); } if ( ! ( userId in userDb )) { throw new Error ( `User not found: ${ userId } ` ); } return userDb [ userId ]. email ; }, // Extract user role user_role : ( userId : unknown ) : string => { if ( typeof userId !== 'string' ) { throw new Error ( 'user_id must be a string' ); } if ( ! ( userId in userDb )) { throw new Error ( `User not found: ${ userId } ` ); } return userDb [ userId ]. role ; }, }, }; }; Example of using parameter transformations with OpenAPI async function main () : Promise < void > { console . log ( 'Starting Parameter Transformation Example...' ); // Step 1: Create a mock OpenAPI spec file const specFilePath = createMockOpenAPISpec (); console . log ( `Created mock OpenAPI spec at: ${ specFilePath } ` ); // Step 2: Create parameter transformers const fileTransformer = createFileTransformer (); const userTransformer = createUserTransformer (); // Step 3: Create a map of parameter transformers const transformers = new Map < string , ParameterTransformer > (); transformers . set ( 'file_path' , fileTransformer ); transformers . set ( 'user_id' , userTransformer ); console . log ( 'Created parameter transformers' ); // Step 4: Create an OpenAPIToolSet with the parameter transformers const toolset = new OpenAPIToolSet ({ filePath : specFilePath , transformers , }); console . log ( 'Created OpenAPIToolSet with parameter transformers' ); // Step 5: Get the tools const tools = toolset . getTools (); const fileUploadTool = tools . getTool ( 'upload_file' ); const updateUserTool = tools . getTool ( 'update_user' ); assert ( fileUploadTool , 'Expected to find upload_file tool' ); assert ( updateUserTool , 'Expected to find update_user tool' ); console . log ( 'Found tools: upload_file, update_user' ); // Step 6: Create a temp file for testing const tempFilePath = path . join ( __dirname , 'temp.txt' ); fs . writeFileSync ( tempFilePath , 'Hello, world!' ); console . log ( `Created temp file at: ${ tempFilePath } ` ); try { // Step 7: Test file upload transformations console . log ( '\\n=== File Upload Transformations ===\\n' ); // Execute with just file_path - other parameters will be transformed const fileUploadResult = await fileUploadTool . execute ( { file_path : tempFilePath }, { dryRun : true } ); console . log ( 'File upload result:' ); console . log ( JSON . stringify ( fileUploadResult , null , 2 )); // Step 8: Test user data transformations console . log ( '\\n=== User Data Transformations ===\\n' ); // Execute with just user_id - other parameters will be transformed const updateUserResult = await updateUserTool . execute ({ user_id : 'user123' }, { dryRun : true }); console . log ( 'Update user result:' ); console . log ( JSON . stringify ( updateUserResult , null , 2 )); // Step 9: Print transformed parameters console . log ( '\\nTransformed file parameters:' ); const fileParams = fileUploadResult . mappedParams as Record < string , unknown > ; console . log ( `- file_name: ${ fileParams . file_name } ` ); console . log ( `- file_format: ${ fileParams . file_format } ` ); console . log ( `- file_content: ${ ( fileParams . file_content as string ). substring ( 0 , 20 ) } ... (base64)` ); console . log ( '\\nTransformed user parameters:' ); const userParams = updateUserResult . mappedParams as Record < string , unknown > ; console . log ( `- user_name: ${ userParams . user_name } ` ); console . log ( `- user_email: ${ userParams . user_email } ` ); console . log ( `- user_role: ${ userParams . user_role } ` ); console . log ( '\\nParameter Transformation Example completed successfully!' ); } finally { // Step 10: Clean up try { fs . unlinkSync ( tempFilePath ); fs . unlinkSync ( specFilePath ); console . log ( 'Cleaned up temporary files' ); } catch ( error ) { console . error ( 'Error cleaning up temporary files:' , error ); } } } // Run the example main (). catch (( error ) => { console . error ( 'Error:' , error ); process . exit ( 1 ); });","title":"Custom Transformations"},{"location":"openapi-transformations/#openapi-transformations","text":"OpenAPI with Parameter Transformations Example This example demonstrates how to: 1. Create custom parameter transformers 2. Use them with OpenAPI tools to derive additional parameters 3. Execute tools with minimal input, letting the transformers handle the rest import assert from 'node:assert' ; import fs from 'node:fs' ; import path from 'node:path' ; import { OpenAPIToolSet } from '../src/toolsets/openapi' ; import type { ParameterTransformer } from '../src/types' ; Create a mock OpenAPI specification for testing const createMockOpenAPISpec = () : string => { // Create a simple OpenAPI spec with two operations const spec = { openapi : '3.0.0' , info : { title : 'Parameter Transformation API' , version : '1.0.0' , }, paths : { '/upload' : { post : { operationId : 'upload_file' , description : 'Upload a file' , requestBody : { content : { 'multipart/form-data' : { schema : { type : 'object' , properties : { file_path : { type : 'string' , description : 'Path to the file to upload' , }, file_content : { type : 'string' , description : 'Base64-encoded file content' , }, file_name : { type : 'string' , description : 'Name of the file' , }, file_format : { type : 'string' , description : 'Format of the file' , }, }, required : [ 'file_path' ], }, }, }, }, responses : { '200' : { description : 'File uploaded successfully' , }, }, }, }, '/users/{user_id}' : { put : { operationId : 'update_user' , description : 'Update user details' , parameters : [ { name : 'user_id' , in : 'path' , required : true , schema : { type : 'string' , }, }, ], requestBody : { content : { 'application/json' : { schema : { type : 'object' , properties : { user_name : { type : 'string' , description : 'User name' , }, user_email : { type : 'string' , description : 'User email' , }, user_role : { type : 'string' , description : 'User role' , }, }, }, }, }, }, responses : { '200' : { description : 'User updated successfully' , }, }, }, }, }, }; // Write the spec to a temporary file const tempFile = path . join ( process . env . TMPDIR || '/tmp' , `parameter-transformation-spec- ${ Date . now () } .json` ); fs . writeFileSync ( tempFile , JSON . stringify ( spec , null , 2 )); return tempFile ; }; Create a file transformer This transformer extracts file_content, file_name, and file_format from file_path const createFileTransformer = () : ParameterTransformer => { return { transforms : { // Extract file content as base64 file_content : ( filePath : unknown ) : string => { if ( typeof filePath !== 'string' ) { throw new Error ( 'file_path must be a string' ); } if ( ! fs . existsSync ( filePath )) { throw new Error ( `File not found: ${ filePath } ` ); } return fs . readFileSync ( filePath ). toString ( 'base64' ); }, // Extract file name file_name : ( filePath : unknown ) : string => { if ( typeof filePath !== 'string' ) { throw new Error ( 'file_path must be a string' ); } return path . basename ( filePath ); }, // Extract file format (extension) file_format : ( filePath : unknown ) : string => { if ( typeof filePath !== 'string' ) { throw new Error ( 'file_path must be a string' ); } const extension = path . extname ( filePath ). slice ( 1 ); return extension || '' ; }, }, }; }; Create a user transformer This transformer extracts user_name, user_email, and user_role from user_id const createUserTransformer = () : ParameterTransformer => { // Mock user database const userDb : Record < string , { name : string ; email : string ; role : string } > = { user123 : { name : 'John Doe' , email : 'john.doe@example.com' , role : 'admin' }, user456 : { name : 'Jane Smith' , email : 'jane.smith@example.com' , role : 'user' }, }; return { transforms : { // Extract user name user_name : ( userId : unknown ) : string => { if ( typeof userId !== 'string' ) { throw new Error ( 'user_id must be a string' ); } if ( ! ( userId in userDb )) { throw new Error ( `User not found: ${ userId } ` ); } return userDb [ userId ]. name ; }, // Extract user email user_email : ( userId : unknown ) : string => { if ( typeof userId !== 'string' ) { throw new Error ( 'user_id must be a string' ); } if ( ! ( userId in userDb )) { throw new Error ( `User not found: ${ userId } ` ); } return userDb [ userId ]. email ; }, // Extract user role user_role : ( userId : unknown ) : string => { if ( typeof userId !== 'string' ) { throw new Error ( 'user_id must be a string' ); } if ( ! ( userId in userDb )) { throw new Error ( `User not found: ${ userId } ` ); } return userDb [ userId ]. role ; }, }, }; }; Example of using parameter transformations with OpenAPI async function main () : Promise < void > { console . log ( 'Starting Parameter Transformation Example...' ); // Step 1: Create a mock OpenAPI spec file const specFilePath = createMockOpenAPISpec (); console . log ( `Created mock OpenAPI spec at: ${ specFilePath } ` ); // Step 2: Create parameter transformers const fileTransformer = createFileTransformer (); const userTransformer = createUserTransformer (); // Step 3: Create a map of parameter transformers const transformers = new Map < string , ParameterTransformer > (); transformers . set ( 'file_path' , fileTransformer ); transformers . set ( 'user_id' , userTransformer ); console . log ( 'Created parameter transformers' ); // Step 4: Create an OpenAPIToolSet with the parameter transformers const toolset = new OpenAPIToolSet ({ filePath : specFilePath , transformers , }); console . log ( 'Created OpenAPIToolSet with parameter transformers' ); // Step 5: Get the tools const tools = toolset . getTools (); const fileUploadTool = tools . getTool ( 'upload_file' ); const updateUserTool = tools . getTool ( 'update_user' ); assert ( fileUploadTool , 'Expected to find upload_file tool' ); assert ( updateUserTool , 'Expected to find update_user tool' ); console . log ( 'Found tools: upload_file, update_user' ); // Step 6: Create a temp file for testing const tempFilePath = path . join ( __dirname , 'temp.txt' ); fs . writeFileSync ( tempFilePath , 'Hello, world!' ); console . log ( `Created temp file at: ${ tempFilePath } ` ); try { // Step 7: Test file upload transformations console . log ( '\\n=== File Upload Transformations ===\\n' ); // Execute with just file_path - other parameters will be transformed const fileUploadResult = await fileUploadTool . execute ( { file_path : tempFilePath }, { dryRun : true } ); console . log ( 'File upload result:' ); console . log ( JSON . stringify ( fileUploadResult , null , 2 )); // Step 8: Test user data transformations console . log ( '\\n=== User Data Transformations ===\\n' ); // Execute with just user_id - other parameters will be transformed const updateUserResult = await updateUserTool . execute ({ user_id : 'user123' }, { dryRun : true }); console . log ( 'Update user result:' ); console . log ( JSON . stringify ( updateUserResult , null , 2 )); // Step 9: Print transformed parameters console . log ( '\\nTransformed file parameters:' ); const fileParams = fileUploadResult . mappedParams as Record < string , unknown > ; console . log ( `- file_name: ${ fileParams . file_name } ` ); console . log ( `- file_format: ${ fileParams . file_format } ` ); console . log ( `- file_content: ${ ( fileParams . file_content as string ). substring ( 0 , 20 ) } ... (base64)` ); console . log ( '\\nTransformed user parameters:' ); const userParams = updateUserResult . mappedParams as Record < string , unknown > ; console . log ( `- user_name: ${ userParams . user_name } ` ); console . log ( `- user_email: ${ userParams . user_email } ` ); console . log ( `- user_role: ${ userParams . user_role } ` ); console . log ( '\\nParameter Transformation Example completed successfully!' ); } finally { // Step 10: Clean up try { fs . unlinkSync ( tempFilePath ); fs . unlinkSync ( specFilePath ); console . log ( 'Cleaned up temporary files' ); } catch ( error ) { console . error ( 'Error cleaning up temporary files:' , error ); } } } // Run the example main (). catch (( error ) => { console . error ( 'Error:' , error ); process . exit ( 1 ); });","title":"Openapi Transformations"},{"location":"planning/","text":"Planning # While building agents you may find that your workflow is too complex for a general purpose agent. StackOne AI SDK provides access to a state of the art planning agent which allows you to create, cache, and execute complex workflows on verticals supported by StackOne . For example, onboard a new hire from your ATS to your HRIS. import { StackOneToolSet } from '../src' ; const toolset = new StackOneToolSet (); const onboardWorkflow = await toolset . plan ({ key : 'custom_onboarding' , input : 'Onboard the last new hire from Teamtailor to Workday' , model : 'stackone-planner-latest' , tools : [ 'hris_*' , 'ats_*' ], accountIds : [ 'teamtailor_account_id' , 'workday_account_id' ], cache : true , // saves the plan to $HOME/.stackone/plans }); await onboardWorkflow . execute (); or use as part of a larger agent (using AI SDK by Vercel) import { openai } from '@ai-sdk/openai' ; import { generateText } from 'ai' ; await generateText ({ model : openai ( 'gpt-4o' ), prompt : 'You are a workplace agent, onboard the latest hires to our systems' , tools : onboardWorkflow.toAISDK (), maxSteps : 3 , }); /* * The planning model is in closed beta and only available to design partners. * Apply for the waitlist [here](https://www.stackone.com/demo). */","title":"Planning"},{"location":"planning/#planning","text":"While building agents you may find that your workflow is too complex for a general purpose agent. StackOne AI SDK provides access to a state of the art planning agent which allows you to create, cache, and execute complex workflows on verticals supported by StackOne . For example, onboard a new hire from your ATS to your HRIS. import { StackOneToolSet } from '../src' ; const toolset = new StackOneToolSet (); const onboardWorkflow = await toolset . plan ({ key : 'custom_onboarding' , input : 'Onboard the last new hire from Teamtailor to Workday' , model : 'stackone-planner-latest' , tools : [ 'hris_*' , 'ats_*' ], accountIds : [ 'teamtailor_account_id' , 'workday_account_id' ], cache : true , // saves the plan to $HOME/.stackone/plans }); await onboardWorkflow . execute (); or use as part of a larger agent (using AI SDK by Vercel) import { openai } from '@ai-sdk/openai' ; import { generateText } from 'ai' ; await generateText ({ model : openai ( 'gpt-4o' ), prompt : 'You are a workplace agent, onboard the latest hires to our systems' , tools : onboardWorkflow.toAISDK (), maxSteps : 3 , }); /* * The planning model is in closed beta and only available to design partners. * Apply for the waitlist [here](https://www.stackone.com/demo). */","title":"Planning"}]}